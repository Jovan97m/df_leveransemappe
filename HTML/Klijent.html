<!DOCTYPE html>
<html>
    <head>
        <title>df_leveransemappe</title>
        <meta charset="utf-8">
        <meta name = "viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
       
    </head>
    <body style="background: #ccffff ;">
        <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="../node_modules/jquery/dist/jquery.min.js"></script>
        <script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>

        <nav class="navbar navbar-expand-lg navbar-light navbar-fixed-top" style="background-color:#64B5F6">
          <a class="navbar-brand" href="#"><img src="Logo.jpg" alt="" width="100" height="45"></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Features</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Help</a>
              </li>
            </ul>
          </div>
        </nav>
            <a class="btn btn-primary btn-sm shadow-lg" id="DodajTabelu" href="../HTML/DodajTabelu.html" role="button" style="margin-left: 20px; margin-top: 10px; padding: 5px;" ><span class="glyphicon glyphicon-search">GÃ¥ inn i tabellen</span></a>
      
            <div class="table-responsive-sm shadow-lg" style = "margin-top: 25px; margin-left: 20px; margin-right: 20px;">
            <table class="table table-hover table-bordered" id="Tabela" style="border-color: black;">
              <thead style="background-color: cyan;">
                <tr style="padding: 50px;">
                  <th scope="col">#</th>
                  <th scope="col">Telefonnummer</th>
                  <th scope="col">Abonnementstype</th>
                  <th scope="col">Fornavn</th>
                  <th scope="col">Etternavn</th>
                  <th scope="col">Epost</th>
                  <th scope="col">Kostnadsted</th>
                  <th scope="col">Tilleggsinfo</th>
                  <th scope="col">Ekstra talesim</th>
                  <th scope="col">Ekstra datasim</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row"><input type="radio" id="male" name="gender" value="male">1</th>
                  <td>122345678978</td>
                  <td>Type </td>
                  <td>John</td>
                  <td>Doe</td>
                  <td>john.Doe77@gmail.com</td>
                  <td>esp</td>
                  <td>Explanation additional</td>
                  <td>/</td>
                  <td>/</td>
                </tr>
              </tbody>
            </table>
          </div>
            <div>
                <a href="#" class="btn btn-primary btn-lg active shadow-lg" role="button" id="insertRow" aria-pressed="true" style="margin:5px; margin-left: 20px;">Add new row</a>
            </div>
            <div>
              <a href="#" class="btn btn-danger btn-lg active shadow-lg" role="button" id="deleteSelectedRow" aria-pressed="true" style="margin:5px; margin-left: 20px;">Delete selected row</a>
            </div>
            <div>
              <a href="#" class="btn btn-info btn-lg active shadow-lg" role="button" id="updateRow" aria-pressed="true" style="margin:5px; margin-left: 20px;">Update selected row</a>
            </div>

            <div>
              <hr/>
                <a href="Login.html" class="btn btn-primary btn-lg active shadow-lg" role="button" aria-pressed="true" style="margin-left:20px; padding: 10px; text-align: center;">Sende</a>
            </div>
          
          <script>
              
              $(function () {
                             
                  var counter = 2; // pocne od 2 da broji,jer 1 je vec uneta po default-u
                  var prikazCounter= 2;
                  $("#insertRow").on("click", function (event) {
                      event.preventDefault();

                      var newRow = $("<tr>");
                      var cols = '';

                      // Table columns
                      cols += '<th scrope="row">' + prikazCounter + '</th>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Telefonnummer" placeholder="Telefonnummer"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Abonnementstype" placeholder="Abonnementstype"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Fornavn" placeholder="Fornavn"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Etternavn" placeholder="Etternavn"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Epost" placeholder="Epost"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Kostnadsted" placeholder="Kostnadsted"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Tilleggsinfo" placeholder="Tilleggsinfo"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Ekstra talesim" placeholder="Ekstra talesim"></td>';
                      cols += '<td><input class="form-control rounded-0" type="text" name="Ekstra datasim" placeholder="Ekstra datasim"></td>';
                      cols += '<td><button class="btn btn-success rounded-0" id ="buttonDone" data-toggle="tooltip" data-placement="left" title="Thiss buttons allows you to add this row to database"><i class="fa fa-trash"></i></button><button class="btn btn-danger rounded-0" id ="deleteRow" data-toggle="tooltip" data-placement="left" title="This button allows you to delete row,and cancel creating new row."><i class="fa fa-trash"></i></button></td>';

                      // Insert the columns inside a row
                      newRow.append(cols);
                      // Insert the row inside a table
                      $("table").append(newRow);
                      prikazCounter++;
                      // Increase counter after each row insertion

                    });
                    
                    

                    // Remove row when delete btn is clicked
                   $("table").on("click", "#deleteRow", function (event) 
                   {
                      $(this).closest("tr").remove();
                      counter -= 1
                      prikazCounter-= 1;
                    });
                  
                  //zvanican upis
                  $("table").on("click", "#buttonDone", function (event) {

                  var newRow = $("<tr id='tr"+counter+"'>");
                  var cols = '';
                  cols += '<th scope="row">'+'<input type="radio" id="radio" name="gender" value="'+counter+'">' + counter + '</th>'; // broj kolone
                  cols += '<td>' + document.querySelector('[name="Telefonnummer"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Abonnementstype"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Fornavn"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Etternavn"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Epost"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Kostnadsted"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Tilleggsinfo"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Ekstra talesim"]').value + '</td>';
                  cols += '<td>' + document.querySelector('[name="Ekstra datasim"]').value + '</td></tr>';

                  $(this).closest("tr").remove(); // obrise ovaj red sa textboxom i sa ona 2 buttona na kraju
                  newRow.append(cols);
                  $("table").append(newRow); // ubaci na to mesto,novo formirani red
                  counter++;  
               });
               $("#deleteSelectedRow").on("click",function(event){
                      event.preventDefault();
                      red = document.querySelector('#radio:checked').value;
                      
                      alert(red); 
                      
                   $(this).closest("#tr"+red).remove();
                   counter -= 1
                   prikazCounter-= 1;
                                     
                    });

      });
          </script>
            
    </body>
</html>